<!DOCTYPE html>
<html>
<head>
    <title>Player Finder</title>
</head>
<body style="background:#1e1e1e;color:white;font-family:Arial;padding:20px;">
    <h2>Find a Roblox Player's Server</h2>

    <input id="username" placeholder="Enter username" style="width:100%;padding:10px;">
    <button onclick="findPlayer()" style="padding:10px;margin-top:10px;">Search</button>

    <div id="result" style="margin-top:20px;"></div>

<script>
async function findPlayer() {
    const user = document.getElementById("username").value;
    document.getElementById("result").innerHTML = "Scanning...";

    const res = await fetch(`/api/find?username=${user}`);
    const data = await res.json();

    if (!data.found) {
        document.getElementById("result").innerHTML = "Player not found in any recent public servers.";
        return;
    }

    document.getElementById("result").innerHTML = `
        <h3>Player Found!</h3>
        <p><b>Game:</b> ${data.gameName}</p>
        <p><b>Server ID:</b> ${data.serverId}</p>
        <a href="${data.joinLink}" target="_blank">Join Their Server</a>
    `;
}
</script>
</body>
</html>
